<h1>Click words to highlight</h1>
<style type="text/css"><!--
span.white { background-color: #FFFFFF; }
span.highlight_yellow  { background-color: yellow; }
span.highlight_green  { background-color: green; }

A:link {text-decoration: none; color: black;}
A:visited {text-decoration: none; color: black;}
A:active {text-decoration: none; color: black;}
A:hover {text-decoration: none; color: black;}
//-->
</style>
<script type="text/Javascript">

        var sentence = "The durability was a piece of crap";
        var words = sentence.split(/\s/);
        var initialhighlights = "";
        var highlights = initializeArray(words.length, initialhighlights);
        writeSentence(words);

        function initializeArray(length, indexOfTruesString) {
                var array = new Array(length);
                for (i = 0; i < array.length; i++) {
                        array[i] = 0;
                }
                return array;
        }

        // This method wraps every word in a sentence with a javascript click function.
        function writeSentence(words) {
                for(i = 0; i < words.length; i++) {
                        var word = words[i];
                        document.write('<span class="white" id="word.' + i + '">');
                        document.write('<a href="javascript:clickWord(' + i + ')"> ');
                        document.write(word);
                        document.write('</a>');
                        document.write('</span>');
                }
        }


        function boolArrayToString(array) {
                var arrayString = "";
                for(i = 0; i < array.length; i++) {
                        if(array[i] == 1) {
                                arrayString = arrayString + "1";
                        } else if (array[i] == 2) {
                                arrayString = arrayString + "2";
                        } else {
                                arrayString = arrayString + "0";
                        }
                }
                return arrayString;
        }



        function clickWord(x) {
                highlights[x] = ((highlights[x] + 1) % 3);
                var y = 0;
                var word = document.getElementById("word."+x);
                if(highlights[x] == 1) {
                        word.className = "highlight_yellow";
                } else if(highlights[x] == 2) {
                        word.className = "highlight_green";
                } else {
                        word.className = "white";
                }
                document.getElementById('highlights').value = boolArrayToString(highlights);
        }

</script>
<form action="edit" method="get" name="mturk_form"><input id="highlights" name="highlights" type="hidden" value="unchanged" /><br />
<font color="gray" size="-1">Comments</font><br />
<textarea cols="30" name="comment" rows="5"> </textarea><br />
<input name="submit" type="submit" value="Submit" />&nbsp;</form>